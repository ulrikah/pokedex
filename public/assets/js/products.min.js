"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),grid_button=document.querySelector(".products-actions-template-option-grid"),list_button=document.querySelector(".products-actions-template-option-list"),grid=document.querySelector(".products-grid");grid_button.addEventListener("click",function(t){t.preventDefault(),grid.classList.add("products-grid-cards"),list_button.classList.remove("products-actions-template-option-active"),grid_button.classList.add("products-actions-template-option-active")}),list_button.addEventListener("click",function(t){t.preventDefault(),grid.classList.remove("products-grid-cards"),list_button.classList.add("products-actions-template-option-active"),grid_button.classList.remove("products-actions-template-option-active")});var Products=function(){function t(e,n,r,a){var s=this;_classCallCheck(this,t),this.$el={},this.$el.search=e,this.$el.order=n,this.$el.grid=r,this.$el.count=a,this.url=null,this.$el.search.addEventListener("keyup",function(t){s.request(s.$el.search.value,s.$el.order.value)}),this.$el.order.addEventListener("change",function(t){s.request(s.$el.search.value,s.$el.order.value)}),this.base_url()}return _createClass(t,[{key:"request",value:function(t,e){var n=this,r=new XMLHttpRequest;r.onreadystatechange=function(t){4==t.target.readyState&&200==t.target.status&&n.print(JSON.parse(t.target.responseText))},r.open("GET","api/products/?query="+t+"&order="+e,!0),r.send()}},{key:"base_url",value:function(){var t=this,e=new XMLHttpRequest;e.onreadystatechange=function(e){4==e.target.readyState&&200==e.target.status&&(t.url=e.target.responseText)},e.open("GET","api/index",!0),e.send()}},{key:"print",value:function(t){var e=this;this.$el.count.innerHTML=t.length+" item(s)",this.$el.grid.innerHTML="",t.forEach(function(t){e.$el.grid.innerHTML+='\n                <div class="product-element">\n                    <div class="product">\n                        <div class="product-id">\n                            <span>'+e.pad(t.id)+'</span>\n                        </div>\n\n                        <div class="product-image">\n                            <img src="'+e.url+"/uploads/"+t.media+'" alt="Test">\n                        </div>\n\n                        <div class="product-title">\n                            <span>'+t.title+'</span>\n                        </div>\n\n                        <div class="product-category">\n                            <span>'+t.category+'</span>\n                        </div>\n\n                        <div class="product-price">\n                            <span>Price: </span>\n                            <span>$'+t.price+'</span>\n                        </div>\n\n                        <div class="product-quantity">\n                            <span>Quantity:</span>\n                            <span>'+t.quantity+'</span>\n                        </div>\n\n                        <div class="product-actions">\n                            <div class="product-actions-delete">\n                                <a href="'+e.url+'products/6/delete">\n                                    <i class="fa fa-trash" aria-hidden="true"></i>\n                                </a>\n                            </div>\n\n                            <div class="product-actions-edit">\n                                <a href="'+e.url+'products/6/edit">\n                                    <i class="fa fa-pencil" aria-hidden="true"></i>\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </div>'})}},{key:"pad",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=t+"";n.length<e;)n="0"+n;return n}}]),t}(),products=new Products(document.querySelector("#search"),document.querySelector("#order"),document.querySelector(".products-grid"),document.querySelector(".products-actions-count"));